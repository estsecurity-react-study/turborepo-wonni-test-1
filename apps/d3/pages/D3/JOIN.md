# D3 데이터 조인

이 문서에서는 데이터 배열을 D3 선택 항목에 조인하는 방법을 보여줍니다. 데이터 조인을 만드는 방법, 데이터 조인을 업데이트하는 방법, 객체 및 주요 기능의 배열을 조인하는 방법을 다룹니다. 또한 레이아웃 기능을 사용하여 데이터 조인 코드를 단순화하는 방법도 보여줍니다.

데이터 조인은 데이터 배열과 선택한 HTML 또는 SVG 요소 간의 대응 관계를 만듭니다.

배열을 HTML/SVG 요소에 결합한다는 것은 다음을 의미합니다.

- 각 배열 요소에 해당 HTML(또는 SVG) 요소가 있도록 HTML(또는 SVG) 요소가 추가되거나 제거됩니다.
- 각 HTML/SVG 요소는 해당 배열 요소의 값에 따라 위치, 크기 및 스타일을 지정할 수 있습니다.

circle예를 들어 요소 에 결합하려는 5개의 숫자 배열이 있다고 가정합니다 .

```js
[40, 10, 20, 60, 30]
```

circle D3가 조인을 수행할 때마다 각 배열 요소가 해당 요소를 갖도록 요소를 추가하거나 제거합니다 circle.

D3는 또한 해당 배열 요소의 값을 기반으로 각 원(및 기타 속성 또는 스타일)의 위치와 반경을 업데이트할 수 있습니다.

예를 들어, 각 원의 반지름은 해당 배열 값의 절반 값으로 설정할 수 있습니다. 그 결과 첫 번째 원의 반지름은 20이고 두 번째 원의 반지름은 5입니다.

D3 버전 5 이전에는 데이터 조인을 배우기가 쉽지 않았습니다(입력, 종료 및 업데이트에 대해 배워야 함). 다행스럽게도 버전 5 이상에서는 데이터 조인이 훨씬 쉬워졌습니다!

## 데이터 조인을 만드는 방법

데이터 조인을 만드는 일반적인 패턴은 다음과 같습니다.

```js
d3.select(containner)
  .selectAll(element-type)
  .data(array)
  .join(element-type)
```

### where
- container결합된 HTML/SVG 요소를 포함할 단일 요소를 지정하는 CSS 선택자 문자열입니다.
- element-type결합하려는 요소의 유형을 설명하는 문자열입니다 (예: 'div' 또는 'circle').
- array 기입하려는 array 이름이비다.

### 일반적으로 데이터 조인에는 다음 네 가지 방법이 사용됩니다.
- .select조인된 HTML/SVG 요소에 대한 컨테이너(또는 부모) 역할을 할 요소를 정의합니다.
- .selectAll각 배열 요소에 결합될 요소의 유형을 정의합니다.
- .data조인되는 배열을 정의합니다.
- .join결합을 수행합니다. HTML 또는 SVG 요소가 추가되고 제거되는 곳입니다.
- [예제 code](https://codepen.io/pen?&prefill_data_id=fc5b7d42-78bf-422a-9038-31929a47acc8)
- [예제 dom](https://www.d3indepth.com/examples-merged/datajoins/five-circles/)

## D3 Enter, Exit and Update

D3 버전 4 이하에서는 선택 .enter및 .exit방법을 사용해야 합니다.  
그러나 버전 5부터 이 .join방법은 들어가기와 나가기의 복잡성을 숨깁니다.
https://www.d3indepth.com/enterexit/

